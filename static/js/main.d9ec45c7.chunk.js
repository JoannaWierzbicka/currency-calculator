(this["webpackJsonpcurrency-calculator"]=this["webpackJsonpcurrency-calculator"]||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(18),o=n.n(i),u=n(9),d=n(13),s=d.a.div(a||(a=Object(u.a)(["\ndisplay: flex;\n@media only screen and (max-width: 600px){\n    flex-direction: column;\n}\n"]))),l=n(7),j=n(25),p=n(105),b="addData",O="addApiData",x="change",h="deleteData",g=function(e){return{type:O,payload:e}},D="https://api.apilayer.com/exchangerates_data",f=new Headers;f.append("apikey","W1wWwkLEZ2CB7okZK9ETcWWAE5oFW0Sm");var y,m,S,w,v,P,R,C,L,A={method:"GET",redirect:"follow",headers:f},N=function(e){return{type:b,payload:e}},K=function(e,t){return{type:x,payload:{rate:e,id:t}}},T=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=n>9?n:"0".concat(n),r=e.getDate(),c=r<10?"0".concat(r):r;return"".concat(t,"-").concat(a,"-").concat(c)},k=function(e){var t=[],n=T();/^[A-Z]{3}$/.test(e.currency)||t.push("Wprowad\u017a poprawn\u0105 walut\u0119"),e.quantity<1&&t.push("Wprowad\u017a warto\u015b\u0107 wi\u0119ksz\u0105 od 0");return/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(e.date)||t.push("Wprowad\u017a dat\u0119 w formacie: rrrr-mm-dd "),n<e.date&&t.push("Wprowad\u017a dat\u0119 przesz\u0142\u0105 lub dzisiejsz\u0105"),e.price<1&&t.push("Wprowad\u017a poprawn\u0105 kwot\u0119"),t},B=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTC","BTN","BWP","BYN","BYR","BZD","CAD","CDF","CHF","CLF","CLP","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XAG","XAU","XCD","XDR","XOF","XPF","YER","ZAR","ZMK","ZMW","ZWL"],M=d.a.button(y||(y=Object(u.a)(["\n    background-color: #a687c2;\n    margin: 8px 0;\n    padding: 6px;\n    border-radius: 6px;\n    border: none;\n    cursor: pointer;\n    &:hover{\n        background-color: #a687c2bd; \n    }\n"]))),F=d.a.form(m||(m=Object(u.a)(["\ndisplay: flex;\nflex-direction: column;\npadding: 10px 20px;\n\n"]))),W=d.a.div(S||(S=Object(u.a)(["\nborder: 2px solid #008000;\nbackground-color: #f7c6ff;\nborder-radius: 5px;\nmargin: 20px;\nmargin-left: 50px;\ncolor: #454445;\nfont-weight: 600;\nheight: fit-content;\nbox-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n\n"]))),G=d.a.input(w||(w=Object(u.a)(["\nmargin: 8px 0;\n    padding: 4px;\n    border-radius: 6px;\n"]))),E=d.a.label(v||(v=Object(u.a)(["\nbackground-color: #a687c2;\nmargin: 8px 0;\n    padding: 4px;\n    border-radius: 6px;\n"]))),Z=d.a.select(P||(P=Object(u.a)(["\nmargin: 8px 0;\n    padding: 4px;\n    border-radius: 6px;\n"]))),z=n(111),U=n(10),I=Object(U.a)(z.a)(R||(R=Object(u.a)(["\nborder: 2px solid #a687c2;\n"]))),Y=d.a.ul(C||(C=Object(u.a)(["\nfont-weight: 300;\n    font-size: 11px;\n    color: red;\n    padding-inline-start: 21px;\n    list-style: circle;\n"]))),H=n(112),J=Object(U.a)(H.a)(L||(L=Object(u.a)(["\n  background-color: #87c2ae;\n  margin: 20px;\n  height: fit-content;\n  max-width: 65%;\n  border-radius: 5px;\n  @media only screen and (max-width: 600px){\n    margin: 0 auto;\n}\n"]))),X=n(2),q=function(e){return Object(X.jsx)(Y,{children:e&&0!==e.length?e.map((function(e){return Object(X.jsx)("li",{children:e},e)})):null})},V=function(e){var t=e.handleSubmit,n=e.actions,a=e.state,r=e.errors;return Object(X.jsxs)(W,{children:[q(r),Object(X.jsxs)(F,{onSubmit:t,children:[Object(X.jsx)(E,{htmlFor:"currency",children:"Waluta: "}),Object(X.jsx)(Z,{name:"currency",value:a.currency,onChange:function(e){return n.setCurrency(e.target.value)},children:B.map((function(e){return Object(X.jsx)("option",{value:e,children:e},e)}))}),Object(X.jsx)(E,{htmlFor:"quantity",children:"Ilo\u015b\u0107:"}),Object(X.jsx)(G,{name:"quantity",value:a.quantity,onChange:function(e){return n.setQuantity(e.target.value)}}),Object(X.jsx)(E,{htmlFor:"date",children:"Data zakupu: "}),Object(X.jsx)(G,{name:"date",type:"date",value:a.date,onChange:function(e){return n.setDate(e.target.value)}}),Object(X.jsx)(E,{htmlFor:"price",children:"Cena zakupu: "}),Object(X.jsx)(G,{name:"price",type:"number",value:a.price,onChange:function(e){return n.setPrice(e.target.value)}}),Object(X.jsx)(M,{children:"Dodaj"})]})]})},Q=function(){var e=c.a.useState(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=c.a.useState(0),i=Object(l.a)(r,2),o=i[0],u=i[1],d=c.a.useState(""),s=Object(l.a)(d,2),b=s[0],O=s[1],x=c.a.useState(0),h=Object(l.a)(x,2),g=h[0],f=h[1],y=c.a.useState(Object(p.a)()),m=Object(l.a)(y,2),S=m[0],w=m[1],v=c.a.useState([]),P=Object(l.a)(v,2),R=P[0],C=P[1],L={currency:n,quantity:o,date:b,price:g,id:S},T=Object(j.b)(),B=function(){(function(e,t){return fetch("".concat(D,"/").concat(e,"?&symbols=").concat(t,"&base=PLN"),A).then((function(e){if(e.ok)return e.json();throw Error("Error")}))})(b,n).then((function(e){var t=(1/e.rates[n]).toFixed(4);t!==g&&window.confirm("Kurs ".concat(n," w dniu ").concat(b," wynosi\u0142: ").concat(t,". Czy wpisa\u0107 poprawn\u0105 warto\u015b\u0107 do tabeli?"))&&T(K(t,S))}))};return Object(X.jsx)(V,{handleSubmit:function(e){e.preventDefault(),w(Object(p.a)());var t=k(L);0===t.length&&(T(N(L)),B()),C(t)},actions:{setCurrency:a,setQuantity:u,setDate:O,setPrice:f},state:{currency:n,quantity:o,date:b,price:g},errors:R})},$=n(11),_=function(e){return{type:h,payload:e}},ee=n(110),te=n(109),ne=n(107),ae=n(108),re=n(104),ce=n(106),ie=function(e){var t=e.rows,n=e.getPresentValue,a=e.getProfitOrLoss,r=e.onClickDelete;return Object(X.jsx)(ce.a,{component:J,children:Object(X.jsxs)(I,{children:[Object(X.jsx)(ne.a,{sx:{backgroundColor:"#1d9f73"},children:Object(X.jsxs)(ae.a,{children:[Object(X.jsx)(te.a,{align:"center",children:"Waluta"}),Object(X.jsx)(te.a,{align:"center",children:"Ilo\u015b\u0107"}),Object(X.jsx)(te.a,{align:"center",children:"Data zakupu"}),Object(X.jsx)(te.a,{align:"center",children:"Cena zakupu"}),Object(X.jsx)(te.a,{align:"center",children:"Dzisiejszy kurs"}),Object(X.jsx)(te.a,{align:"center",children:"Warto\u015b\u0107 ca\u0142kowita"}),Object(X.jsx)(te.a,{align:"center",children:"Zysk/strata"}),Object(X.jsx)(te.a,{align:"center"})]})}),Object(X.jsx)(ee.a,{children:t.map((function(e){var t=e.currency,c=e.quantity,i=e.date,o=e.price,u=e.priceToday,d=e.id;return Object(X.jsxs)(ae.a,{sx:{"&:nth-of-type(even)":{backgroundColor:"#0080002b"},"&:last-child td, &:last-child th":{border:0}},children:[Object(X.jsx)(te.a,{align:"center",component:"th",scope:"row",children:t}),Object(X.jsx)(te.a,{align:"center",children:c}),Object(X.jsx)(te.a,{align:"center",children:i}),Object(X.jsxs)(te.a,{align:"center",children:[o," z\u0142"]}),Object(X.jsxs)(te.a,{align:"center",children:[u.toFixed(4)," z\u0142"]}),Object(X.jsx)(te.a,{align:"center",children:n(u,c)}),Object(X.jsx)(te.a,{align:"center",children:a(c,o,u)}),Object(X.jsx)(te.a,{align:"center",children:Object(X.jsx)(re.a,{title:"Delete this row",children:Object(X.jsx)(M,{onClick:function(){return r(d)},children:"X"})})})]},d)}))})]})})},oe=function(){var e=Object(j.c)((function(e){return e.userData})).userData,t=Object(j.c)((function(e){return e.apiData})).apiData,n=Object(j.b)();c.a.useEffect((function(){return 0===t.length?n((function(e){return fetch("".concat(D,"/latest?&symbols&base=PLN"),A).then((function(e){if(e.ok)return e.json();throw Error("Error")})).then((function(t){return e(g(t))}))})):null}),[]);var a=e.map((function(e){return Object($.a)(Object($.a)({},e),{},{priceToday:(n=e.currency,1/t[0].rates[n])});var n}));return Object(X.jsx)(ie,{rows:a,getPresentValue:function(e,t){var n=(e*t).toFixed(2);return"".concat(n," z\u0142")},getProfitOrLoss:function(e,t,n){var a=(e*n-e*t).toFixed(2),r=(100*(1-e*t/(e*n))).toFixed(2);return a>0?"Zysk: ".concat(a," z\u0142 (").concat(r,"%)"):"Strata: ".concat(a," z\u0142 (").concat(r,"%)")},onClickDelete:function(e){n(_(e))}})},ue=function(){return Object(X.jsx)("div",{style:{width:"fit-content",backgroundColor:"#87c2ae",margin:"0 auto",borderRadius:"4px"},children:Object(X.jsx)("h2",{style:{padding:"4px 10px"},children:"KALKULATOR WALUTOWY"})})},de=function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ue,{}),Object(X.jsxs)(s,{children:[Object(X.jsx)(Q,{}),Object(X.jsx)(oe,{})]})]})},se=function(){return Object(X.jsx)(de,{})},le=(n(69),n(28)),je=n(17),pe={userData:[]},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object($.a)(Object($.a)({},e),{},{userData:[].concat(Object(je.a)(e.userData),[{currency:t.payload.currency,quantity:t.payload.quantity,date:t.payload.date,price:t.payload.price,id:t.payload.id}])});case x:return Object($.a)(Object($.a)({},e),{},{userData:e.userData.map((function(e){return t.payload.id===e.id?e.price===t.payload?e:Object($.a)(Object($.a)({},e),{},{price:t.payload.rate}):e}))});case h:return Object($.a)(Object($.a)({},e),{},{userData:e.userData.filter((function(e){return e.id!==t.payload}))});default:return e}},Oe={apiData:[]},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;return t.type===O?Object($.a)(Object($.a)({},e),{},{apiData:[t.payload]}):e},he=Object(le.combineReducers)({userData:be,apiData:xe}),ge=n(49),De=n(48),fe="state",ye=JSON.parse(localStorage.getItem(fe))||void 0,me=Object(le.createStore)(he,ye,Object(De.composeWithDevTools)(Object(le.applyMiddleware)(ge.a)));me.subscribe((function(){var e=me.getState();localStorage.setItem(fe,JSON.stringify(e))}));var Se=me;o.a.render(Object(X.jsx)(j.a,{store:Se,children:Object(X.jsx)(se,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.d9ec45c7.chunk.js.map